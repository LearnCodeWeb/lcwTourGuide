/*!
 * lcwTourGuide v1.0.0
 * Author: Zaid Bin Khalid
 * A lightweight JavaScript guided tour library
 */
class lcwTourGuide{constructor(t={}){this.steps=Array.from(document.querySelectorAll("[data-lcw-tour-step]")).sort((t,e)=>t.dataset.tourStep-e.dataset.tourStep),this.current=0,this.tooltip=null,this.overlay=null,this.onStart=t.onStart||(()=>{}),this.onEnd=t.onEnd||(()=>{}),this.onStep=t.onStep||(()=>{})}start(){this.steps.length&&(this._createOverlay(),this._showStep(this.current),this.onStart())}_createOverlay(){this.overlay=document.createElement("div"),this.overlay.className="lcw-tour-overlay",document.body.appendChild(this.overlay)}_showStep(t){const e=this.steps[t],o=e.getBoundingClientRect();let i=window.scrollY+o.top-(window.innerHeight/2-o.height/2);o.bottom+120>window.innerHeight&&(i=window.scrollY+o.top-120-20),window.scrollTo({top:i,behavior:"smooth"}),this.steps.forEach(t=>t.classList.remove("lcw-tour-highlight")),setTimeout(()=>{const o=e.getBoundingClientRect();this.tooltip&&this.tooltip.remove(),e.classList.add("lcw-tour-highlight"),this.tooltip=document.createElement("div"),this.tooltip.className="lcw-tour-tooltip",this.tooltip.innerHTML=`\n            <div class="lcw-tour-close" id="close-tour">&times;</div>\n            <div style="margin-top: 10px;">${e.dataset.lcwTourText}</div>\n            <div style="margin-top: 12px;">\n                ${t>0?'<button id="prev-step">Previous</button>':""}\n                ${t<this.steps.length-1?'<button id="next-step">Next</button>':'<button id="end-tour">Done</button>'}\n            </div>`,document.body.appendChild(this.tooltip);const i=this.tooltip.getBoundingClientRect();let s=o.bottom+window.scrollY+10;o.bottom+i.height+20>window.innerHeight&&(s=o.top+window.scrollY-i.height-10);let n=o.left+window.scrollX;n+i.width>window.innerWidth&&(n=window.innerWidth-i.width-10),n<0&&(n=10),this.tooltip.style.top=`${s}px`,this.tooltip.style.left=`${n}px`,document.getElementById("next-step")?.addEventListener("click",()=>this._next()),document.getElementById("prev-step")?.addEventListener("click",()=>this._prev()),document.getElementById("end-tour")?.addEventListener("click",()=>this._end()),document.getElementById("close-tour")?.addEventListener("click",()=>this._end()),this.onStep(t,e)},400)}_next(){this.current<this.steps.length-1?(this.current++,this._showStep(this.current)):this._end()}_prev(){this.current>0&&(this.current--,this._showStep(this.current))}_end(){this.tooltip?.remove(),this.overlay?.remove(),this.steps.forEach(t=>t.classList.remove("lcw-tour-highlight")),this.tooltip=null,this.overlay=null,this.current=0,this.onEnd()}}window.lcwTourGuide=lcwTourGuide;